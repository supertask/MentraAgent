{% extends "base.html" %}

{% block title %}ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ - RealworldAgent{% endblock %}

{% block content %}
<main class="main-content">
  <!-- ãƒšãƒ¼ã‚¸ãƒ˜ãƒƒãƒ€ãƒ¼ -->
  <div class="page-header">
    <h1 class="page-title">ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰</h1>
    <p class="page-subtitle">RealworldAgent ã‚·ã‚¹ãƒ†ãƒ æ¦‚è¦</p>
  </div>

  <!-- çµ±è¨ˆã‚«ãƒ¼ãƒ‰ -->
  <div class="grid grid-4 mb-32">
    <div class="stats-card">
      <div class="stats-card-label">ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ</div>
      <div class="stats-card-value">{{ projects|length }}</div>
      <div class="stats-card-change positive">ä»Šé€± +1</div>
    </div>
    <div class="stats-card">
      <div class="stats-card-label">ä»Šé€±ã®ãƒŸãƒ¼ãƒ†ã‚£ãƒ³ã‚°</div>
      <div class="stats-card-value">3</div>
      <div class="stats-card-change">å…ˆé€± 2</div>
    </div>
    <div class="stats-card">
      <div class="stats-card-label">ã‚ªãƒ¼ãƒ—ãƒ³PR</div>
      <div class="stats-card-value">2</div>
      <div class="stats-card-change">ãƒ¬ãƒ“ãƒ¥ãƒ¼å¾…ã¡</div>
    </div>
    <div class="stats-card">
      <div class="stats-card-label">å‡¦ç†ä¸­ã‚¿ã‚¹ã‚¯</div>
      <div class="stats-card-value">{{ processing_code_gens|length }}</div>
      <div class="stats-card-change">å‹•ç”»è§£æä¸­</div>
    </div>
  </div>

  <!-- ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚°ãƒªãƒƒãƒ‰ -->
  <div class="grid grid-2">
    <!-- æœ€è¿‘ã®ãƒŸãƒ¼ãƒ†ã‚£ãƒ³ã‚° -->
    <div class="card">
      <div class="card-header">
        <div>
          <h2 class="card-title">æœ€è¿‘ã®ãƒŸãƒ¼ãƒ†ã‚£ãƒ³ã‚°</h2>
          <p class="card-subtitle">ç›´è¿‘ã®Google MeetãƒŸãƒ¼ãƒ†ã‚£ãƒ³ã‚°</p>
        </div>
        <a href="{{ url_for('meetings') }}" class="btn btn-ghost btn-sm">ã™ã¹ã¦è¡¨ç¤º</a>
      </div>
      <div class="card-body">
        {% if recent_meetings %}
          {% for meeting in recent_meetings %}
          <div class="list-item" style="margin-bottom: 12px;">
            <div class="list-item-icon">ğŸ¥</div>
            <div class="list-item-content">
              <div class="list-item-title">{{ meeting.title }}</div>
              <div class="list-item-description">{{ meeting.duration }} â€¢ {{ meeting.date|format_datetime }}</div>
            </div>
            <div class="list-item-meta">
              <span class="status-badge status-badge-{{ meeting.status }}">
                <span class="status-dot status-dot-{{ meeting.status }}"></span>
                {% if meeting.status == 'completed' %}å®Œäº†{% else %}å‡¦ç†ä¸­{% endif %}
              </span>
            </div>
          </div>
          {% endfor %}
        {% else %}
          <div class="empty-state" style="padding: 32px;">
            <div class="empty-state-description">ãƒŸãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã¯ã¾ã ã‚ã‚Šã¾ã›ã‚“</div>
          </div>
        {% endif %}
      </div>
    </div>

    <!-- é€²è¡Œä¸­ã®ã‚³ãƒ¼ãƒ‰ç”Ÿæˆ -->
    <div class="card">
      <div class="card-header">
        <div>
          <h2 class="card-title">ã‚³ãƒ¼ãƒ‰ç”ŸæˆçŠ¶æ³</h2>
          <p class="card-subtitle">Cursor Agentå®Ÿè¡Œä¸­ã®ã‚¿ã‚¹ã‚¯</p>
        </div>
        <a href="{{ url_for('code_generation') }}" class="btn btn-ghost btn-sm">è©³ç´°ã‚’è¡¨ç¤º</a>
      </div>
      <div class="card-body">
        {% if processing_code_gens %}
          {% for cg in processing_code_gens %}
          <div class="list-item" style="margin-bottom: 12px;">
            <div class="list-item-icon">âš™ï¸</div>
            <div class="list-item-content">
              <div class="list-item-title">{{ cg.meeting_name }}</div>
              <div class="list-item-description">{{ cg.scope|render_scope_badge }}</div>
            </div>
            <div class="list-item-meta">
              <span class="status-badge status-badge-processing">
                <span class="status-dot status-dot-processing"></span>
                å‡¦ç†ä¸­
              </span>
            </div>
          </div>
          {% endfor %}
        {% else %}
          <div class="empty-state" style="padding: 32px;">
            <div class="empty-state-description">å‡¦ç†ä¸­ã®ã‚¿ã‚¹ã‚¯ã¯ã‚ã‚Šã¾ã›ã‚“</div>
          </div>
        {% endif %}
      </div>
    </div>

    <!-- æœ€è¿‘ã®PR -->
    <div class="card">
      <div class="card-header">
        <div>
          <h2 class="card-title">æœ€è¿‘ã®Pull Request</h2>
          <p class="card-subtitle">ç”Ÿæˆã•ã‚ŒãŸã‚³ãƒ¼ãƒ‰ã®PR</p>
        </div>
        <a href="{{ url_for('code_generation') }}" class="btn btn-ghost btn-sm">ã™ã¹ã¦è¡¨ç¤º</a>
      </div>
      <div class="card-body">
        {% if recent_prs %}
          {% for pr in recent_prs %}
          <div class="list-item" style="margin-bottom: 12px;">
            <div class="list-item-icon">{% if pr.status == 'merged' %}âœ…{% else %}ğŸ“{% endif %}</div>
            <div class="list-item-content">
              <div class="list-item-title">#{{ pr.number }} {{ pr.title }}</div>
              <div class="list-item-description">{{ pr.scope|render_scope_badge }} â€¢ +{{ pr.additions }} -{{ pr.deletions }}</div>
            </div>
            <div class="list-item-meta">
              <span class="status-badge status-badge-{{ pr.status }}">
                {% if pr.status == 'merged' %}ãƒãƒ¼ã‚¸æ¸ˆã¿{% else %}ã‚ªãƒ¼ãƒ—ãƒ³{% endif %}
              </span>
            </div>
          </div>
          {% endfor %}
        {% else %}
          <div class="empty-state" style="padding: 32px;">
            <div class="empty-state-description">PRã¯ã¾ã ã‚ã‚Šã¾ã›ã‚“</div>
          </div>
        {% endif %}
      </div>
    </div>

    <!-- ã‚¢ã‚¯ãƒ†ã‚£ãƒ“ãƒ†ã‚£ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³ -->
    <div class="card">
      <div class="card-header">
        <div>
          <h2 class="card-title">ã‚¢ã‚¯ãƒ†ã‚£ãƒ“ãƒ†ã‚£</h2>
          <p class="card-subtitle">æœ€è¿‘ã®ã‚¤ãƒ™ãƒ³ãƒˆ</p>
        </div>
      </div>
      <div class="card-body">
        <div class="timeline">
          <div class="timeline-item">
            <div class="timeline-dot"></div>
            <div class="timeline-content">
              <div class="timeline-title">âœ… PR #123 ãƒãƒ¼ã‚¸</div>
              <div class="timeline-time">2024-10-27 18:00</div>
            </div>
          </div>
          <div class="timeline-item">
            <div class="timeline-dot"></div>
            <div class="timeline-content">
              <div class="timeline-title">âš™ï¸ ã‚³ãƒ¼ãƒ‰ç”Ÿæˆå®Œäº†: LoginUI</div>
              <div class="timeline-time">2024-10-27 15:25</div>
            </div>
          </div>
          <div class="timeline-item">
            <div class="timeline-dot"></div>
            <div class="timeline-content">
              <div class="timeline-title">ğŸ¥ ãƒŸãƒ¼ãƒ†ã‚£ãƒ³ã‚°: ProjectAlpha_frontend_LoginUI</div>
              <div class="timeline-time">2024-10-27 14:00</div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</main>
{% endblock %}

